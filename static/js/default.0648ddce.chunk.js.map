{"version":3,"sources":["assets/images/user.jpg","routes/index.js","containers/menu.js","containers/AppHeader.jsx","components/CustomMenu/CustomMenu.jsx","components/CustomMenu/index.js","containers/AppAside.jsx","containers/AppFooter.jsx","containers/DefaultLayout.jsx","store/actionCreators.js","containers/index.js"],"names":["module","exports","routes","path","exact","name","component","loadable","auth","menu","key","title","icon","subs","Header","React","memo","props","menuClick","avatar","menuToggle","loginOut","ItemGroup","Divider","Item","type","theme","onClick","className","style","fontSize","rel","href","target","color","dot","offset","overlay","overlayStyle","width","src","alt","cursor","CustomMenu","state","openKeys","selectedKeys","getOpenKeys","string","newStr","newArr","arr","split","map","i","length","push","onOpenChange","latestOpenKey","includes","setState","renderMenuItem","to","renderSubMenu","SubMenu","item","pathname","this","location","prevProps","prevState","mode","Component","withRouter","Sider","AppAside","collapsed","Footer","Content","DefaultLayout","show","isLogin","localStorage","getItem","getMenu","history","clear","message","success","JSON","parse","filter","res","indexOf","timer","setTimeout","echarts","init","document","getElementById","resize","clearTimeout","marginLeft","minHeight","render","AppFooter","connect","dispatch","MENU_TOGGLE"],"mappings":"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","file":"static/js/default.0648ddce.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.7b343f81.jpg\";","import loadable from '@/utils/loadable'\r\n\r\nconst Index = loadable(() => import(/* webpackChunkName: 'index' */ '@/views/Index'))\r\n\r\n// 通用\r\nconst ButtonView = loadable(() => import(/* webpackChunkName: 'button' */ '@/views/PublicView/Button'))\r\nconst IconView = loadable(() => import(/* webpackChunkName: 'icon' */ '@/views/PublicView/Icon'))\r\n\r\n// 导航\r\nconst DropdownView = loadable(() => import(/* webpackChunkName: 'dropdown' */ '@/views/NavView/Dropdown'))\r\nconst MenuView = loadable(() => import(/* webpackChunkName: 'menu' */ '@/views/NavView/Menu'))\r\nconst StepView = loadable(() => import(/* webpackChunkName: 'step' */ '@/views/NavView/Step'))\r\n\r\n// 表单\r\nconst FormBaseView = loadable(() => import(/* webpackChunkName: 'formBase' */ '@/views/FormView/FormBaseView'))\r\nconst FormStepView = loadable(() => import(/* webpackChunkName: 'formStep' */ '@/views/FormView/FormStepView'))\r\n\r\n// 展示\r\nconst TableView = loadable(() => import(/* webpackChunkName: 'table' */ '@/views/ShowView/Table'))\r\nconst CollapseView = loadable(() => import(/* webpackChunkName: 'collapse' */ '@/views/ShowView/Collapse'))\r\nconst TreeView = loadable(() => import(/* webpackChunkName: 'tree' */ '@/views/ShowView/Tree'))\r\nconst TabsView = loadable(() => import(/* webpackChunkName: 'tabs' */ '@/views/ShowView/Tabs'))\r\n\r\n// 其它\r\nconst ProgressView = loadable(() => import(/* webpackChunkName: 'progress' */ '@/views/Others/Progress'))\r\nconst AnimationView = loadable(() => import(/* webpackChunkName: 'animation' */ '@/views/Others/Animation'))\r\nconst EditorView = loadable(() => import(/* webpackChunkName: 'editor' */ '@/views/Others/Editor'))\r\nconst UploadView = loadable(() => import(/* webpackChunkName: 'upload' */ '@/views/Others/Upload'))\r\n\r\nconst Three = loadable(() => import(/* webpackChunkName: 'three' */ '@/views/TestView'))\r\nconst About = loadable(() => import(/* webpackChunkName: 'about' */ '@/views/About'))\r\n\r\nconst routes = [\r\n    { path: '/index', exact: true, name: 'Index', component: Index, auth: [1] },\r\n    { path: '/public/button', exact: false, name: '按钮', component: ButtonView, auth: [1] },\r\n    { path: '/public/icon', exact: false, name: '图标', component: IconView, auth: [1] },\r\n    { path: '/nav/dropdown', exact: false, name: '下拉菜单', component: DropdownView },\r\n    { path: '/nav/menu', exact: false, name: '下拉菜单', component: MenuView },\r\n    { path: '/nav/steps', exact: false, name: '步骤条', component: StepView },\r\n    { path: '/form/base-form', exact: false, name: '表单', component: FormBaseView },\r\n    { path: '/form/step-form', exact: false, name: '表单', component: FormStepView },\r\n    { path: '/show/table', exact: false, name: '表格', component: TableView },\r\n    { path: '/show/collapse', exact: false, name: '折叠面板', component: CollapseView },\r\n    { path: '/show/tree', exact: false, name: '树形控件', component: TreeView },\r\n    { path: '/show/tabs', exact: false, name: '标签页', component: TabsView },\r\n    { path: '/others/progress', exact: false, name: '进度条', component: ProgressView, auth: [1] },\r\n    { path: '/others/animation', exact: false, name: '动画', component: AnimationView, auth: [1] },\r\n    { path: '/others/editor', exact: false, name: '富文本', component: EditorView, auth: [1] },\r\n    { path: '/others/upload', exact: false, name: '上传', component: UploadView, auth: [1] },\r\n    { path: '/one/two/three', exact: false, name: '三级', component: Three },\r\n    { path: '/about', exact: false, name: '关于', component: About, auth: [1] }\r\n]\r\n\r\nexport default routes\r\n","const menu = [\r\n    {\r\n        key: '/index',\r\n        title: '首页',\r\n        icon: 'home',\r\n        auth: [1]\r\n    },\r\n    {\r\n        title: '通用',\r\n        key: '/public',\r\n        icon: 'appstore',\r\n        auth: [1],\r\n        subs: [{ title: '按钮', key: '/public/button', icon: '' }, { title: '图标', key: '/public/icon', icon: '' }]\r\n    },\r\n    {\r\n        title: '导航',\r\n        key: '/nav',\r\n        icon: 'bulb',\r\n        subs: [\r\n            { title: '下拉菜单', key: '/nav/dropdown', icon: '' },\r\n            { title: '导航菜单', key: '/nav/menu', icon: '' },\r\n            { title: '步骤条', key: '/nav/steps', icon: '' }\r\n        ]\r\n    },\r\n    {\r\n        title: '表单',\r\n        key: '/form',\r\n        icon: 'form',\r\n        subs: [\r\n            { title: '基础表单', key: '/form/base-form', icon: '' },\r\n            { title: '步骤表单', key: '/form/step-form', icon: '' }\r\n        ]\r\n    },\r\n    {\r\n        title: '展示',\r\n        key: '/show',\r\n        icon: 'pie-chart',\r\n        subs: [\r\n            { title: '表格', key: '/show/table', icon: '' },\r\n            { title: '折叠面板', key: '/show/collapse', icon: '' },\r\n            { title: '树形控件', key: '/show/tree', icon: '' },\r\n            { title: '标签页', key: '/show/tabs', icon: '' }\r\n        ]\r\n    },\r\n    {\r\n        title: '其它',\r\n        key: '/others',\r\n        icon: 'paper-clip',\r\n        auth: [1],\r\n        subs: [\r\n            { title: '进度条', key: '/others/progress', icon: '' },\r\n            { title: '动画', key: '/others/animation', icon: '' },\r\n            { title: '上传', key: '/others/upload', icon: '' },\r\n            { title: '富文本', key: '/others/editor', icon: '' },\r\n            { title: '404', key: '/404', icon: '' },\r\n            { title: '500', key: '/500', icon: '' }\r\n        ]\r\n    },\r\n    {\r\n        title: '多级导航',\r\n        key: '/one',\r\n        icon: 'bars',\r\n        subs: [\r\n            {\r\n                title: '二级',\r\n                key: '/one/two',\r\n                icon: '',\r\n                subs: [{ title: '三级', key: '/one/two/three', icon: '' }]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        title: '关于',\r\n        key: '/about',\r\n        icon: 'user',\r\n        auth: [1]\r\n    }\r\n]\r\n\r\nexport default menu\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Menu, Dropdown, Icon, Layout, Avatar, Badge } from 'antd'\r\n\r\nconst { Header } = Layout\r\n\r\nconst AppHeader = props => {\r\n    let { menuClick, avatar, menuToggle, loginOut } = props\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.ItemGroup title='用户设置'>\r\n                <Menu.Divider />\r\n                <Menu.Item>\r\n                    <Icon type='edit' />\r\n                    个人设置\r\n                </Menu.Item>\r\n                <Menu.Item>\r\n                    <Icon type='setting' theme='filled' />\r\n                    系统设置\r\n                </Menu.Item>\r\n            </Menu.ItemGroup>\r\n            <Menu.Divider />\r\n            <Menu.Item>\r\n                <span onClick={loginOut}>\r\n                    <Icon type='logout' /> 退出登录\r\n                </span>\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n    return (\r\n        <Header className='header'>\r\n            <div className='left'>\r\n                <Icon\r\n                    style={{ fontSize: '2rem' }}\r\n                    onClick={menuClick}\r\n                    type={menuToggle ? 'menu-unfold' : 'menu-fold'}\r\n                />\r\n            </div>\r\n            <div className='right'>\r\n                <div className='mr15'>\r\n                    <a rel='noopener noreferrer' href='https://github.com/ltadpoles/react-admin' target='_blank'>\r\n                        <Icon type='github' style={{ color: '#000' }} />\r\n                    </a>\r\n                </div>\r\n                <div className='mr15'>\r\n                    <Badge dot={true} offset={[-2, 0]}>\r\n                        <a href='https://github.com/ltadpoles/react-admin' style={{ color: '#000' }}>\r\n                            <Icon type='bell' />\r\n                        </a>\r\n                    </Badge>\r\n                </div>\r\n                <div>\r\n                    <Dropdown overlay={menu} overlayStyle={{ width: '20rem' }}>\r\n                        <div className='ant-dropdown-link'>\r\n                            <Avatar icon='user' src={avatar} alt='avatar' style={{ cursor: 'pointer' }} />\r\n                        </div>\r\n                    </Dropdown>\r\n                </div>\r\n            </div>\r\n        </Header>\r\n    )\r\n}\r\n\r\nAppHeader.propTypes = {\r\n    menuClick: PropTypes.func,\r\n    avatar: PropTypes.string,\r\n    menuToggle: PropTypes.bool,\r\n    loginOut: PropTypes.func\r\n}\r\n\r\nexport default React.memo(AppHeader)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Menu, Icon } from 'antd'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nclass CustomMenu extends Component {\r\n    state = {\r\n        openKeys: [],\r\n        selectedKeys: []\r\n    }\r\n\r\n    // 处理 pathname\r\n    getOpenKeys = string => {\r\n        let newStr = '',\r\n            newArr = [],\r\n            arr = string.split('/').map(i => '/' + i)\r\n        for (let i = 1; i < arr.length - 1; i++) {\r\n            newStr += arr[i]\r\n            newArr.push(newStr)\r\n        }\r\n        return newArr\r\n    }\r\n\r\n    // 页面刷新的时候可以定位到 menu 显示\r\n    componentDidMount() {\r\n        let { pathname } = this.props.location\r\n        this.setState({\r\n            selectedKeys: [pathname],\r\n            openKeys: this.getOpenKeys(pathname)\r\n        })\r\n    }\r\n\r\n    // 点击面包屑导航时 侧边栏同步响应\r\n    componentDidUpdate(prevProps, prevState) {\r\n        let { pathname } = this.props.location\r\n        if (prevProps.location.pathname !== pathname) {\r\n            this.setState({\r\n                selectedKeys: [pathname],\r\n                openKeys: this.getOpenKeys(pathname)\r\n            })\r\n        }\r\n    }\r\n\r\n    // 只展开一个 SubMenu\r\n    onOpenChange = openKeys => {\r\n        if (openKeys.length === 0 || openKeys.length === 1) {\r\n            this.setState({\r\n                openKeys\r\n            })\r\n            return\r\n        }\r\n\r\n        // 最新展开的 SubMenu\r\n        const latestOpenKey = openKeys[openKeys.length - 1]\r\n\r\n        // 这里与定义的路由规则有关\r\n        if (latestOpenKey.includes(openKeys[0])) {\r\n            this.setState({\r\n                openKeys\r\n            })\r\n        } else {\r\n            this.setState({\r\n                openKeys: [latestOpenKey]\r\n            })\r\n        }\r\n    }\r\n\r\n    renderMenuItem = ({ key, icon, title }) => (\r\n        <Menu.Item key={key}>\r\n            <Link to={key}>\r\n                {icon && <Icon type={icon} />}\r\n                <span>{title}</span>\r\n            </Link>\r\n        </Menu.Item>\r\n    )\r\n\r\n    // 循环遍历数组中的子项 subs ，生成子级 menu\r\n    renderSubMenu = ({ key, icon, title, subs }) => {\r\n        return (\r\n            <Menu.SubMenu\r\n                key={key}\r\n                title={\r\n                    <span>\r\n                        {icon && <Icon type={icon} />}\r\n                        <span>{title}</span>\r\n                    </span>\r\n                }>\r\n                {subs &&\r\n                    subs.map(item => {\r\n                        return item.subs && item.subs.length > 0 ? this.renderSubMenu(item) : this.renderMenuItem(item)\r\n                    })}\r\n            </Menu.SubMenu>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let { openKeys, selectedKeys } = this.state\r\n        return (\r\n            <Menu\r\n                mode='inline'\r\n                theme='dark'\r\n                openKeys={openKeys}\r\n                selectedKeys={selectedKeys}\r\n                onClick={({ key }) => this.setState({ selectedKeys: [key] })}\r\n                onOpenChange={this.onOpenChange}>\r\n                {this.props.menu &&\r\n                    this.props.menu.map(item => {\r\n                        return item.subs && item.subs.length > 0 ? this.renderSubMenu(item) : this.renderMenuItem(item)\r\n                    })}\r\n            </Menu>\r\n        )\r\n    }\r\n}\r\n\r\nCustomMenu.propTypes = {\r\n    menu: PropTypes.array.isRequired\r\n}\r\n\r\nexport default withRouter(CustomMenu)\r\n","import CustomMenu from './CustomMenu.jsx'\r\n\r\nexport default CustomMenu\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Layout, Icon } from 'antd'\r\nimport CustomMenu from '@/components/CustomMenu'\r\n\r\nconst { Sider } = Layout\r\n\r\nconst AppAside = props => {\r\n    let { menuToggle, menu } = props\r\n    return (\r\n        <Sider className='aside' collapsed={menuToggle}>\r\n            <div className='logo'>\r\n                <a rel='noopener noreferrer' href='https://github.com/ltadpoles' target='_blank'>\r\n                    <Icon type='github' style={{ fontSize: '3.8rem', color: '#fff' }} />\r\n                </a>\r\n            </div>\r\n            <CustomMenu menu={menu}></CustomMenu>\r\n        </Sider>\r\n    )\r\n}\r\n\r\nAppAside.propTypes = {\r\n    menuToggle: PropTypes.bool,\r\n    menu: PropTypes.array.isRequired\r\n}\r\n\r\nexport default AppAside\r\n","import React from 'react'\r\nimport { Layout } from 'antd'\r\n\r\nconst { Footer } = Layout\r\n\r\nexport default () => <Footer className='footer'>React Admin &copy;2019 Created By 游荡de蝌蚪</Footer>\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Layout, BackTop, message } from 'antd'\r\nimport routes from '@/routes'\r\nimport { menuToggleAction } from '@/store/actionCreators'\r\nimport echarts from 'echarts/lib/echarts'\r\nimport avatar from '@/assets/images/user.jpg'\r\nimport menu from './menu'\r\nimport '@/style/layout.scss'\r\n\r\nimport AppHeader from './AppHeader.jsx'\r\nimport AppAside from './AppAside.jsx'\r\nimport AppFooter from './AppFooter.jsx'\r\n\r\nconst { Content } = Layout\r\n\r\nclass DefaultLayout extends Component {\r\n    state = {\r\n        avatar,\r\n        show: true,\r\n        menu: []\r\n    }\r\n\r\n    isLogin = () => {\r\n        if (!localStorage.getItem('user')) {\r\n            this.props.history.push('/login')\r\n        } else {\r\n            this.setState({\r\n                menu: this.getMenu(menu)\r\n            })\r\n        }\r\n    }\r\n\r\n    loginOut = () => {\r\n        localStorage.clear()\r\n        this.props.history.push('/login')\r\n        message.success('登出成功!')\r\n    }\r\n    getMenu = menu => {\r\n        let newMenu,\r\n            auth = JSON.parse(localStorage.getItem('user')).auth\r\n        if (!auth) {\r\n            return menu\r\n        } else {\r\n            newMenu = menu.filter(res => res.auth && res.auth.indexOf(auth) !== -1)\r\n            return newMenu\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.isLogin()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let { pathname } = this.props.location\r\n\r\n        // 菜单收缩展开时 echarts 图表的自适应\r\n        if (pathname === '/' || pathname === '/index') {\r\n            this.timer = setTimeout(() => {\r\n                echarts.init(document.getElementById('bar')).resize()\r\n                echarts.init(document.getElementById('line')).resize()\r\n                echarts.init(document.getElementById('pie')).resize()\r\n                echarts.init(document.getElementById('pictorialBar')).resize()\r\n                echarts.init(document.getElementById('scatter')).resize()\r\n            }, 500)\r\n        } else {\r\n            this.timer = null\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.timer && clearTimeout(this.timer)\r\n    }\r\n\r\n    render() {\r\n        let { menuClick, menuToggle } = this.props\r\n        let { auth } = JSON.parse(localStorage.getItem('user')) ? JSON.parse(localStorage.getItem('user')) : ''\r\n        return (\r\n            <Layout className='app'>\r\n                <BackTop />\r\n                <AppAside menuToggle={menuToggle} menu={this.state.menu} />\r\n                <Layout style={{ marginLeft: menuToggle ? '80px' : '200px', minHeight: '100vh' }}>\r\n                    <AppHeader\r\n                        menuToggle={menuToggle}\r\n                        menuClick={menuClick}\r\n                        avatar={this.state.avatar}\r\n                        show={this.state.show}\r\n                        loginOut={this.loginOut}\r\n                    />\r\n                    <Content className='content'>\r\n                        <Switch>\r\n                            {routes.map(item => {\r\n                                return (\r\n                                    <Route\r\n                                        key={item.path}\r\n                                        path={item.path}\r\n                                        exact={item.exact}\r\n                                        render={props =>\r\n                                            !auth ? (\r\n                                                <item.component {...props} />\r\n                                            ) : item.auth && item.auth.indexOf(auth) !== -1 ? (\r\n                                                <item.component {...props} />\r\n                                            ) : (\r\n                                                // 这里也可以跳转到 403 页面\r\n                                                <Redirect to='/404' {...props} />\r\n                                            )\r\n                                        }></Route>\r\n                                )\r\n                            })}\r\n                            <Redirect to='/404' />\r\n                        </Switch>\r\n                    </Content>\r\n                    <AppFooter />\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nconst stateToProp = state => ({\r\n    menuToggle: state.menuToggle\r\n})\r\n\r\nconst dispatchToProp = dispatch => ({\r\n    menuClick() {\r\n        dispatch(menuToggleAction())\r\n    }\r\n})\r\n\r\nexport default withRouter(\r\n    connect(\r\n        stateToProp,\r\n        dispatchToProp\r\n    )(DefaultLayout)\r\n)\r\n","import { MENU_TOGGLE } from './actionType'\r\n\r\nexport const menuToggleAction = () => ({\r\n    type: MENU_TOGGLE\r\n})\r\n","import DefaultLayout from './DefaultLayout.jsx'\r\n\r\nexport default DefaultLayout\r\n"],"sourceRoot":""}